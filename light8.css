/* Reset */
* { box-sizing: border-box; margin: 0; padding: 0; }

:root{
  /* Brand + UI */
  --mm-brand: #0094b2;            /* used by focus ring */
  --mm-radius: 0rem;  
  --mm-text: #000;   
  
  --mm-topbar-h: 80px;
  --mm-topbar-background: #0d162c;
  --nav-bg: #f1f1f1;

  --mm-border-pad: #ccc;
    
  --mm-hover: #0091ff00;       
  --mm-border: #bbb;

  --mm-transition: 0ms cubic-bezier(.2,.6,.2,1);

  --mm-nav-w: 66px;
  --mm-index-w: 270px;
  --panel-w: var(--mm-panel-w, 420px);
  /* computed at runtime */
  --index-cur: 0px;
  --panel-cur: 0px;

  --big-text: #222222;
  --lil-text: #606060; font-size: 14px; font-weight: 380;

  --mm-highlight: #2caa0d;

  --mm-panel-width: 30vw;   /* preferred size */
  --mm-panel-min: 400px;     /* don't go narrower */
  --mm-panel-max: 36vw;
  --mm-panel-w: clamp(var(--mm-panel-min), var(--mm-panel-width), var(--mm-panel-max));
  --hud-gap: 5px;
}


body.index-open { --index-cur: var(--mm-index-w); }
body:not(.panel-closed) { --panel-cur: var(--panel-w); }
body{ font-family: 'Roboto'; background: #ffffff; color: var(--mm-text);}

.mm-topbar{
  position: fixed;
  top: 0; left: 0; right: 0;
  height: var(--mm-topbar-h);
  background-color: var(--mm-topbar-background);
  z-index: 1300; 
  display: flex; align-items: center;
  border-bottom: 0px solid #a1a1a1;
  border-top: 0px solid #014580;
  padding-bottom: 2px;
 
  background-image: linear-gradient(90deg, #014580, #014580);
  transform: scaleX(1);  
  background-repeat:no-repeat;
  background-size: 100% 6px;
  background-position: 0 100%; 
}

.mm-topbar::after{
  content: "";
  position: absolute;
  left: 0; right: 0; bottom: 0; height: 5px;
  background: linear-gradient(90deg, #014580, #006aff, #00ff33, #014580); 
  box-shadow: 1px 0px 5px #00ff1ebf;/* reversed */
  transform: scaleX(0);                 /* start hidden */
  transform-origin: left;               /* wipe left→right */
  transition: transform 1s ease;       /* smooth */
  pointer-events: none;                 /* ignore mouse */
}
.mm-topbar:hover::after,
.mm-topbar:focus-within::after{  
  background: linear-gradient(90deg,#003b6f, #00ff33, #0059ff, #003b6f);  
  box-shadow: 1px 0px 5px #00ff1e8d;      /* keyboard too */
  transform: scaleX(1);                 /* cover the base line */
}
@media (prefers-reduced-motion: reduce){
  .mm-topbar::after{transform: 1s ease;transform: scaleX(1); }
}
.mm-topbar.is-armed::after{
  transform: scaleX(1);
}
.mm-topbar.is-armed.is-leaving::after{
  transform: translateX(100%) scaleX(1);
}

.mm-topbar .topbar-inner{
  width: 100%;
  display: flex; align-items: center; gap: 30px;
  margin-left: 12rem;
}
.mm-tog{
    display:flex; left:1rem; gap:0px;
    border-radius: var(--mm-radius);
    color: var(--mm-text); text-decoration:none;
    background-color: var(--mm-topbar-background);
    border: 0px;
    position: absolute;
    justify-content: center;
    transition: background var(--mm-transition); color: #cecece;
}

.mm-topbar .brand{ display:flex; align-items:center; margin-left:6px; text-decoration:none;position: relative;}
.mm-topbar .brand img{ height: 38px; width: auto; display:block; }
.mm-topbar .toplinks{ display:flex; gap: 60px; margin-left: 14px;}
.mm-topbar .toplinks .link{
  color: #ccc; text-decoration:none; font-weight: 320; font-size: 16px;
}
.mm-topbar .toplinks .link:hover{
  color: #ffffff; font-weight: 340;
}



.mm-content{
  margin-left: calc(var(--mm-nav-w) + var(--mm-index-w) + var(--mm-panel-w));
  transition: margin var(--mm-transition); padding:16px; padding-block:0;
}
/* index closed, panel open */
body.index-closed .mm-content{
  margin-left: calc(var(--mm-nav-w) + var(--mm-panel-w));
}
/* index open, panel closed */
body.panel-closed .mm-content{
  margin-left: calc(var(--mm-nav-w) + var(--mm-index-w));
}
/* both closed */
body.panel-closed.index-closed .mm-content{
  margin-left: var(--mm-nav-w);
}

.mm-toggle{ color:#bebebe; border-radius:0px;}
.mm-toggle[data-active="true"]{
  background: var(--mm-bubble-hover-bg);
  color:#fff;
}

.mm-toggle{
  display:grid; place-items:center;
  border:0; background:transparent; color: var(--mm-text);
  padding:10px;
  color: #bebebe;
  border-radius:0px; cursor:pointer;
  transition: background var(--mm-transition), transform var(--mm-transition);
}

.mm-toggle::before,.mm-toggle::after{ content:none !important; }
.mm-toggle svg{ width:36px; height:36px; display:block; }
.mm-toggle svg *[stroke]{ stroke: currentColor; }
.mm-toggle:hover{ background: var(--mm-hover); }
.mm-toggle:focus-visible{ outline:1px solid color-mix(in oklab, var(--mm-brand) 45%, transparent); }

/* Nav */
.mm-nav{ display:flex; flex-direction:column; gap:4px;
  position: fixed; inset: 0 auto 0 0;
  width: var(--mm-nav-w);
  background: var(--nav-bg);
  border-right: 1px solid var(--mm-border-pad);
  display: flex; flex-direction: column;
  padding-top: 4px;
  font-weight: 310;
  z-index: 1000;
  transition: width var(--mm-transition);}
.mm-item{
  display:flex; align-items:center; gap:7px;
  padding: 0px;
  border-radius: var(--mm-radius);
  color: var(--mm-text); text-decoration:none;
  background-color: var(--nav-bg);
  border: 0px;
  position: relative;
  justify-content: center;
  transition: background var(--mm-transition); color: #000000;
  margin-top: 10px;
}


.mm-item:hover{ background: var(--mm-hover); color: #0084ff;}
.mm-item.is-active,
.mm-item[aria-current="page"]{
  background: transparent !important;
  color: inherit;                 /* no forced blue */
  margin:2px;                    /* prevent the 10px jump from old rule */
  position: relative;}
  .mm-item.is-active::after,
.mm-item[aria-current="page"]::after{
  content:"";
  position:absolute;
  right:-1px;                     /* sits flush over the nav’s 1px border */
  top:50%;
  width: var(--mm-nav-indicator-w, 3px);
  height: var(--mm-icon-size, 45px);
  transform: translateY(-50%);
  background: var(--mm-indicator, #ffffff00);
  border-radius: 2px;}
.mm-item svg{
  width:40px; height:45px; flex:0 0 38px;
  fill: currentColor;
}
.mm-label{ white-space: nowrap; }

/* Separator */
.mm-sep{ height:2px; background:#bcbcbc; margin: 5px 10px; }
.mm-sep2{ height:2px; background:#cecece; margin: 10px 0px;}
.mm-sep3{ flex: 0 0 2px; height: 34px; align-self: center; background: #1e3e5d; margin-bottom: 2px;}
.mm-sep4{height: 2px; align-self: center; background: #375862; margin-right: 20px; margin-left: 20px; margin-top: 2rem;}
.mm-sep5{ flex: 0 0 2px; height: 34px; align-self: center; background: #bbbbbb; margin:6px;}

  body.panel-closed .mm-panel { transform: translateX(-100%); opacity: .001; pointer-events: none; }
.mm-panel { transform: translateX(0); opacity: 1; pointer-events: auto; transition: transform .28s ease, opacity .28s ease; }


/* --------- Main Layout --------- */
.main{ display:flex; align-items:flex-start; transition: all 0.3s ease;}
#mainContent{ transition: margin-right .4s ease-in-out; }

/* Hover tooltip */
.mm-tooltip{
  position: fixed; pointer-events:none;
  background: rgba(255,255,255,.95); color:#000;
  font-size:.875rem; font-weight:250; padding:.7rem;
  border:1px solid #333; border-radius:1rem;
  opacity:0; transform: translate(12px,12px);
  transition: opacity 120ms ease; z-index:1000;
}
.mm-tooltip.show{ opacity:.85; }

/* --------- Viewer --------- */
.viewer-container{
  flex: 1 1 0; min-width: 500px;
  display:flex; flex-direction:column; align-items:center;
  padding:3rem 5rem 4rem 1rem; transition:flex .3s ease;
}
.viewer-box{
  position: relative;
  width: 100%; max-width: 1000px; height:74vh;
  background: radial-gradient(rgb(5, 5, 5), #000000 );
  overflow: hidden;
  border-radius: 2rem;
  display:flex; align-items:center; justify-content:center;
  margin-bottom: 1.3rem;
}
.viewer-box > .viewer-hud{
  position: absolute;
  right: 16px;
  bottom: 16px;
  display: flex;
  gap: 10px;
  pointer-events: none;
  z-index: 5;
}
.viewer-frame{
  position: relative;
  width: 100%;
  max-width: 900px;
  margin-bottom: calc(var(--hud-size) + 2 * var(--hud-gap));
}
.viewer-hud.hud-outside{
  position: absolute;
  right: var(--hud-gap);
  top: calc(100% + var(--hud-gap));
  display: flex;
  gap: var(--hud-gap);
  z-index: 5;

  left: auto;
  bottom: auto;
  pointer-events: auto;
  z-index: 5;
}
.viewer-hud .hud-btn{
  pointer-events: auto;
  width:10px; height:0px; border-radius:999px; 
  margin-right: 20px;
  border:none; background:none; color:#626262;
  display:grid; place-items:center;
  transition: transform 1s ease, box-shadow .5s ease, border-color 1s ease;
}

/* compact tooltip */
.viewer-hud .hud-btn[aria-label]::after{
  content: attr(aria-label);
  position: absolute; right:50%; bottom:48px; transform: translateX(50%) scale(.98);
  background:#000000; color:#fff; border:1px solid #2f2f2f; border-radius:8px;
  padding:4px 8px; font-size:.75rem; white-space:nowrap;
  opacity:0; pointer-events:none; transition:opacity .15s ease, transform .15s ease;
}
.viewer-hud .hud-btn:hover::after{ opacity:1; transform: translateX(50%) scale(1); }

/* --------- Controls --------- */
.controls{
  position: absolute;
  left: 16px;
  color: var(--lil-text);
  display:flex; flex-direction:row; justify-content:center; align-items:center;
  gap:1rem; margin:0.3rem 0; color:#3f3f3f; font-weight:400;
}
.controls label{ display:flex; align-items:center; }
.controls input{ margin-right:10px; }



.mm-panel{
  contain: inline-size;
  position: fixed;
  top: 0; bottom: 0;
  left: calc(var(--mm-nav-w) + var(--mm-index-w));
  width: var(--mm-panel-w);
  background: #ffffff;
  overflow-y: auto;
  z-index: 900;
  border-right: 1px solid var(--mm-border);
 container-type: inline-size;
  container-name: panel;

  transform: translateX(0);
  opacity: 1;
  pointer-events: auto;
  transition: transform 0s ease-in-out, opacity 0s ease-in-out;
}
body.index-closed .mm-panel{ left: var(--mm-nav-w); }
.mm-panel-resizer{
  position: absolute;
  top: 0;
  right: -3px; 
  width: 8px;
  height: 100%;
  cursor: ew-resize;
  user-select: none;
  touch-action: none;
  background: linear-gradient(90deg, transparent, #cbe6f000, transparent);
  opacity: 0;
  transition: opacity var(--mm-transition);
}
body.panel-closed .mm-panel{
  transform: translateX(-100%);
  opacity: .001;
  pointer-events: none;
}
  .info-columns{ display:grid; padding:6px;}
  #muscleImage{
    display:block; max-width:300px; width:100%; height:auto;
    margin:.5rem 3 1rem; padding-bottom:1rem;
  }
  @container panel (min-width: 36vw){
    .info-columns{ grid-template-columns: min(340px, 40%) 1fr; align-items:start; }
    #muscleImage{ margin:0; padding-bottom:0; justify-self:start; }
    .info-right{ min-width:0; }
  }
  .mm-panel-header{
    display:flex; justify-content:space-between; align-items:center;
    margin-bottom: 1rem;
  }
  .mm-panel-header h2 {font-size: 30px;font-weight:700px; color:var(--big-text);}
  .mm-panel-section h3{line-height:1.5;font-size: 22px; color:var(--big-text);
    font-weight: 700px;}
  .mm-panel-section p{
    line-height:1.5; color: var(--lil-text); margin-bottom:1rem;
  }
  #exerciseList{ list-style:none; margin:0; padding:0; }
  #exerciseList li{ color: var(--lil-text); 
    display:flex; justify-content:space-between; align-items:center; margin-bottom:8px;
  }
  #exerciseList li a{ color:#000000; text-decoration:none; }
  #exerciseList li a:hover{ text-decoration:underline; }

  .mm-panel:not(.active){ border-left:none; }
  .mm-panel:hover .mm-panel-resizer{ opacity: .9; }
  .mm-panel.is-resizing { cursor: ew-resize; }
  .mm-panel.is-resizing * { pointer-events: none; }

  .mm-panel-section li{ max-width:65ch; overflow-wrap:anywhere;}
  html, body { overflow-x: hidden;}


  .muscle-index{
    position: fixed; inset: 0 auto 0 var(--mm-nav-w);
    width: var(--mm-index-w);
    background: #fbfbfb;
    overflow-y: auto; z-index: 950;
    border-right: 1px solid var(--mm-border-pad);
    font-weight:400; 
    transform: translateX(-100%); /* start collapsed */
    opacity: .001; pointer-events: none;
    transition: transform var(--mm-transition), opacity var(--mm-transition);
    }
     body.index-open .muscle-index{
    transform: translateX(0);
    opacity: 1; pointer-events: auto;
   }
.mi-list{
  border-right: 0px solid var(--mm-border);
}
.mi-search:focus-within .mm-search-icon{ opacity:1; }
 
  .muscle-index .mi-list button{
    all:unset; width:300px; height: 30px; cursor:pointer; color: #303030; font-weight:400; 
    display:flex; align-items:center; padding-left:8px; opacity: 1;
  }
  .muscle-index .mi-list button:hover{ background:#2caa0d4c; color:#000000; width:100%;}
  .muscle-index .mi-list button.is-active{
    font-weight:400;   opacity: 1;
    position:relative; background: var(--mm-highlight); color:#ffffff;
  }
  .muscle-index .mi-list button.is-active::before{
    opacity: 1;
    content:""; position:absolute; right:-2px; top:50%;
    width:5px; height:100%; transform:translateY(-50%);
    background:#0084ff00;}
    
    /* Make left nav, index, and panel start below the top bar */
.mm-nav{ top: var(--mm-topbar-h); bottom: 0; }                    /* overrides inset */
.muscle-index{ top: var(--mm-topbar-h); bottom: 0; left: var(--mm-nav-w); }
.mm-panel{ top: var(--mm-topbar-h); bottom: 0; }

.muscle-index .mi-head{
  position: sticky; top:0px;
  padding: 8px;
  padding-bottom: 0px;
  background-color: #dddddd;
  border-right: 0px solid var(--mm-border-pad);
  border-bottom: 1px solid var(--mm-border-pad);
  opacity: 1;
}
.muscle-index .mi-search{
  outline: none;
  opacity: 1;
  width:100%; padding:16px; margin-top:0px; margin-bottom:8px; 
  border:1px solid #d0d0d0;   
  padding-left: 36px;   
  border-radius:8px; background:#efefef; color:#000000; font: inherit;
}
.muscle-index .mi-filter{
  outline: none;
  opacity: 1;
  width:100%; 
  padding:12px;
  border-bottom:1px solid #d0d0d0;   
  padding-left: 42px;   
  background:#efefef; color: var(--lil-text); font: inherit;
}
.muscle-index .refine-icon{
  position:absolute;
  padding-left: 10px;   
  padding-top:8px;  
  color: var(--lil-text);
}

.mm-search-icon{
position:absolute;
left:20px; top:33px; transform:translateY(-50%);
pointer-events:none;
opacity: 1;
color:#787878;
width:22px; height:22px;
}

/* Ensure scrollable/main content never hides under the top bar */
.mm-content{ padding-top: calc(var(--mm-topbar-h) + 0px); }

  .mm-panel-tabs {
    background: #ddd; 
    border-bottom:1px solid var(--mm-border-pad);
    display: flex;
    justify-content: center;
    display: block;            /* switch from flex → block */
    text-align: center;        /* center inline content */
  }
  .tabs {
    position: relative;
    width: auto;
    display: inline-flex;
    justify-content: center;
    margin-inline: auto;
    align-items: center;
    margin-right: 1rem;
    margin-left: 1rem;
    gap: 2rem;
  }
  .tabs .tab{
    all: unset;
    display:flex; cursor:pointer;
    align-items: center; 
    color:#2b2b2b;
    font-size:16px;
    padding-left: 2rem;
    padding-right: 2rem;
    font-weight: 400;
    margin-top: 16px;
    margin-bottom: 14px;
  }
  .tabs .tab svg {
    width: 1.7em;  /* scale with font size */
    height:1.7em;
    flex-shrink: 0; /* keep icon size fixed */
  }
  .tabs .tab:hover{ color: var(--mm-text);}
  .tabs .tab.is-active,
  .tabs .tab[aria-selected="true"]{
    background: transparent !important;
    color: inherit;
    position: relative;
  }
  .tabs .tab.is-active::after,
  .tabs .tab[aria-selected="true"]::after{
    content:"";
    position:absolute;
    left:0;
    bottom:-9px;
    width:100%;
    height: var(--mm-tab-underline-h, 4px);
    background: var(--mm-highlight);
  }

  
.panel{
  padding-left:14px;
  padding-right:14px;
  margin-top: 2rem;
  min-height: 0;
  overflow: visible;
}
.panel.is-hidden{
  display:block; visibility:hidden; opacity:0; height:0; padding:0; overflow:hidden;
}
.panel[hidden]{ display:none; }
