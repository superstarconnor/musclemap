/* Reset */
* { box-sizing: border-box; margin: 0; padding: 0; }

/* --------- Tokens --------- */
:root{
  /* Brand + UI */
  --mm-brand: #00d5ff;            /* used by focus ring */
  --mm-radius: 0.8rem;            /* unify rounding */

  --mm-elev-1: #00e1ff23;         /* light (controls/nav) */
  --mm-elev-2: #4585a587;         /* hover/active */
  --mm-border: #7b8a90;
  --mm-text: #ffffff;

  --mm-sidebar-w: 185px;
  --mm-sidebar-w-collapsed: 80px;
  --mm-transition: 220ms cubic-bezier(.2,.6,.2,1);

  /* Sidebar panel sizing */
  --sidebar-width: 42vw;   /* preferred size */
  --sidebar-min: 530px;     /* don't go narrower */
  --sidebar-max: 48vw;

  --mm-bubble-hover-bg: #0d5b67;         /* the blue-ish hover fill */
  --mm-bubble-hover-ring: rgba(120,200,255,.45); /* subtle outline glow */
  --mm-icontext-base: #cacaca;           /* current gray */
  --mm-icontext-on-bubble: #ffffff;      /* true white on hover */

  --hud-gap: 5px;
  --hud-size: 15px;
}

/* --------- Base --------- */
body{
  font-family: 'Your Font Name', sans-serif;
  background: #001218;
  color: var(--mm-text);
}
.mm-content{
  margin-left: var(--mm-sidebar-w);
  transition: margin var(--mm-transition);
  padding: 16px;
  padding-block: 0;
}

/* --------- App Sidebar (left) --------- */
.mm-sidebar{
  position: fixed; inset: 0 auto 0 0;
  width: var(--mm-sidebar-w);
  background: var(--mm-elev-1);
  border-right: 1px solid var(--mm-border);
  display: flex; flex-direction: column;
  gap: 8px;
  padding-top: 1.5rem;
  font-weight: 310;
  box-shadow: 0 5px 20px rgba(0, 0, 0, 0.158);
  z-index: 1000;
  transition: width var(--mm-transition);
}


.mm-toggle{
  width:36px; height:36px;
  display:grid; place-items:center;
  border:0; background:transparent; color: var(--mm-text);
  border-radius: 999px; cursor:pointer;
  transition: background var(--mm-transition), transform var(--mm-transition);
}
body.mm-collapsed .mm-toggle{
  align-self: center;
  margin-inline: auto;
}
body.mm-collapsed .mm-toggle svg{
  width: 50px; height: 24px;
}

.mm-toggle::before,.mm-toggle::after{ content:none !important; }
.mm-toggle svg{ width:24px; height:24px; display:block; }
.mm-toggle svg *[stroke]{ stroke: currentColor; }
.mm-toggle:hover{ background: var(--mm-elev-2); }
.mm-toggle:focus-visible{ outline:2px solid color-mix(in oklab, var(--mm-brand) 45%, transparent); }

/* Nav */
.mm-nav{ display:flex; flex-direction:column; gap:4px; margin-top:3px; }
.mm-item{
  display:flex; align-items:center; gap:7px;
  padding: 7px;
  border-radius: var(--mm-radius);
  color: var(--mm-text); text-decoration:none;
  position: relative;
  justify-content: center;
  transition: background var(--mm-transition); color: #cacaca;
  margin-top: 2px;
}
.mm-item:hover{ background: var(--mm-elev-2); opacity:1; color: #ffffff}
.mm-item.is-active{ background:#fff; color:#0077ff; margin:10px;}
.mm-item svg{ 
  width:0px; height:40px; flex: 0 0 40px;   /* unified size */
  fill: #ffffff;
}
.mm-label{ white-space: nowrap; }

/* Separator */
.mm-sep{ height:3px; background:#375862; margin: 10px 10px; }
.mm-sep2{ height:3px; background:#375862; margin: 10px 0px; }
.mm-sep3{ flex: 0 0 3px; 
  height: 40px; 
  align-self: center; 
  background: #375862;
  margin: 0 0.2rem;}

/* Collapsed state */
body.mm-collapsed .mm-sidebar{ width: var(--mm-sidebar-w-collapsed); }
body.mm-collapsed .mm-content{ margin-left: var(--mm-sidebar-w-collapsed); }
body.mm-collapsed .mm-label{ display:none; }
body.mm-collapsed .mm-brand{ justify-content: center; }

/* Tooltips when collapsed */
body.mm-collapsed .mm-item[data-tooltip]::after{
  content: attr(data-tooltip);
  position: absolute; left: calc(100% + 8px); top: 50%; transform: translateY(-50%);
  background: #000000; color:#fff; padding:6px 8px; border-radius:10px;
  font-size: 12px; white-space: nowrap; opacity:0; pointer-events:none;
  transition: opacity var(--mm-transition);
}
body.mm-collapsed .mm-item:hover::after{ opacity:.7; }

/* Responsive: auto-collapse on narrow viewports */
@media (max-width: 1024px){
  body:not(.mm-collapsed) .mm-sidebar{ width: var(--mm-sidebar-w-collapsed); }
  body:not(.mm-collapsed) .mm-content{ margin-left: var(--mm-sidebar-w-collapsed); }
}

/* --------- Main Layout --------- */
.main{ display:flex; align-items:flex-start; transition: all .3s ease; }
#mainContent{ transition: margin-right .4s ease-in-out; }

/* Search */
.search-wrap{ position:relative; }
#muscleSearch{
  width: 100%;
  padding: 1rem 3rem 1rem 2.75rem;
  margin: 1rem 0 1rem;
  border: none;
  color: #fff;
  border-radius: 1rem;
  background-color: #3c80916e;
  font-family: inherit; font-size: 1rem; font-weight: 250;
  box-shadow: 0 0 15px rgba(0,0,0,0);
  transition:
    transform 1s ease,
    box-shadow .2s ease,
    border-color .5s ease,
    padding .3s ease;              /* merged duplicate transitions */
}
#muscleSearch:hover,
#muscleSearch:focus{
  outline: none;
  border: 2px solid transparent;
  padding: 1rem 3rem 1.rem 2.75rem;
  background-image:
    radial-gradient(#000000, #000000),
    radial-gradient(#325bffc2, #00b7ff);
  box-shadow: 0 0 8px rgba(0, 162, 255, .612);
  background-origin: border-box;
  background-clip: padding-box, border-box;
  background-size: 400% 400%;
  animation: glowingBorder 7s ease infinite;
}
@keyframes glowingBorder{
  0%{ background-position: 0% 50%; }
  50%{ background-position: 100% 50%; }
  100%{ background-position: 0% 50%; }
}
.search-icon{
  position:absolute; left:48px; top:97px; width:20px; height:20px;
  transform:translateY(-50%); color:#fefefe; pointer-events:none;
}
.search-wrap:focus-within .search-icon{ color:#fff; opacity:.95; }
::placeholder{ color:#cacaca; font-size:1rem; font-weight:250; }

#muscleResults{ list-style:none; margin:0; padding:0; color:#ffffff; }
#muscleResults .search-item:hover{
  background:#a4a4a4;
  margin:0; padding:0; list-style:none;
  max-height:140px; overflow-y:auto;
  position:relative; z-index:10;
} /* removed stray 's0' token */


/* Hover tooltip */
.mm-tooltip{
  position: fixed; pointer-events:none;
  background: rgba(255,255,255,.95); color:#000;
  font-size:.875rem; font-weight:250; padding:.7rem;
  border:1px solid #333; border-radius:2rem;
  box-shadow:0 6px 18px rgba(0,0,0,.35);
  opacity:0; transform: translate(12px,12px);
  transition: opacity 120ms ease; z-index:1000;
}
.mm-tooltip.show{ opacity:.85; }

/* --------- Viewer --------- */
.viewer-container{
  flex: 1 1 0; min-width: 600px;
  display:flex; flex-direction:column; align-items:center;
  padding:4rem 2rem 4rem 1rem; transition:flex .3s ease;
}
.viewer-box{
  position: relative;
  width: 100%; max-width: 1000px; height: 80vh;
  background: radial-gradient(#050505, #020202 );
  overflow: hidden;
  border-radius: 2rem;
  display:flex; align-items:center; justify-content:center;
  margin-bottom: 1.3rem;
}
.viewer-box > .viewer-hud{
  position: absolute;
  right: 16px;
  bottom: 16px;
  display: flex;
  gap: 10px;
  pointer-events: none;
  z-index: 5;
}
.viewer-frame{
  position: relative;
  width: 100%;
  max-width: 900px;
  margin-bottom: calc(var(--hud-size) + 2 * var(--hud-gap));
}
.viewer-hud.hud-outside{
  position: absolute;
  right: var(--hud-gap);
  top: calc(100% + var(--hud-gap));
  display: flex;
  gap: var(--hud-gap);
  z-index: 5;

  left: auto;
  bottom: auto;
  pointer-events: auto;
  z-index: 5;
}
.viewer-hud .hud-btn{
  pointer-events: auto;
  width:40px; height:30px; border-radius:999px;
  border:none; background:none; color:#cfcfcf;
  display:grid; place-items:center;
  transition: transform 1s ease, box-shadow .5s ease, border-color 1s ease;
}

/* compact tooltip */
.viewer-hud .hud-btn[aria-label]::after{
  content: attr(aria-label);
  position: absolute; right:50%; bottom:48px; transform: translateX(50%) scale(.98);
  background:#000000; color:#eaeaea; border:1px solid #2f2f2f; border-radius:8px;
  padding:4px 8px; font-size:.75rem; white-space:nowrap;
  opacity:0; pointer-events:none; transition:opacity .15s ease, transform .15s ease;
}
.viewer-hud .hud-btn:hover::after{ opacity:1; transform: translateX(50%) scale(1); }

/* --------- Controls --------- */
.controls{
  position: absolute;
  left: 16px;
  display:flex; flex-direction:row; justify-content:center; align-items:center;
  gap:2rem; margin:1rem 0; color:#cacaca; font-weight:200;
}
.controls label{ display:flex; align-items:center; }
.controls input{ margin-right:.5rem; }

.sidebar{
    flex: 0 0 0;
    position: relative;
    overflow: hidden;
    color: #ffffff;
    background-color: #01171e;
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.158);
    background-color: #00e1ff07;
    transition: width .3s ease, flex-basis .4s ease;
    border-left: 1px solid var(--mm-border);
  }
  .sidebar.active{
    width: clamp(var(--sidebar-min), var(--sidebar-width), var(--sidebar-max));
    flex: 0 0 clamp(var(--sidebar-min), var(--sidebar-width), var(--sidebar-max));
    overflow-y: auto; overflow-x: hidden;
    height:103vh;
    container-type: inline-size; container-name: panel;
  }
  .info-columns{ display:grid; gap:1.25rem; }
  #muscleImage{
    display:block; max-width:340px; width:100%; height:auto;
    margin:.5rem 0 1rem; padding-bottom:1rem;
  }
  @container panel (min-width: 36vw){
    .info-columns{ grid-template-columns: min(340px, 40%) 1fr; align-items:start; }
    #muscleImage{ margin:0; padding-bottom:0; justify-self:start; }
    .info-right{ min-width:0; }
    .sidebar-header h2{ margin-top:.25rem;color:#fff; }
  }
  .sidebar-card img{ display:block; max-width:100%; height:auto; }
  .sidebar-header h2,
  .sidebar-section p,
  .sidebar-section li{ max-width:65ch; overflow-wrap:anywhere; }
  html, body { overflow-x: hidden; }
  .sidebar .close-btn{
    position: absolute; z-index:6;
    position:absolute; left:10px; top:20px;
    background:none; border:0; font-size:1.8rem; line-height:1;
    color:inherit; cursor:pointer;
  }

  /* Resize handle + drag UX */
  .sidebar.resizing{ transition: none !important; }
  .sidebar-resizer{
    position: absolute; left:-6px; top:0; width:12px; height:100%;
    cursor: col-resize; z-index:5;
  }
  .sidebar-resizer::after{
    content:""; position:absolute; right:4px; top:50%; transform:translateY(-50%);
    width:2px; height:40px; background:#ffffff; opacity:.8;
  }
  body.resizing{ user-select:none; cursor: col-resize; }

  .sidebar-header{
    display:flex; justify-content:space-between; align-items:center;
    margin-bottom: 1.5rem; color:#d2d2d2;
  }
  .sidebar-section h3{ margin-top:1rem; margin-bottom:.5rem; line-height:2; }
  .sidebar-section p{
    line-height:1.5; color:#cacaca; font-size:1rem; font-weight:250; margin-bottom:1.5rem;
  }
  /* Optional: hide border when closed */
  .sidebar:not(.active){ border-left:none; }
  .sidebar-search{
    background: #032f37;
    padding-left:2rem;
    padding-right:2rem;
    padding-top:3.5rem;
    padding-bottom: 1rem;
    border-bottom: 1px solid #365762;
  }
  .sidebar-tabs {
    background: #032f377f;   /* lighter strip, same as nav */
    border-bottom: 1px solid #365762;
    display: flex;
    justify-content: left;
    padding-left: 1rem;
    padding-right:1rem;
    display: block;            /* switch from flex → block */
    text-align: center;        /* center inline content */
  }
  .tabs {
    position: relative;
    width: auto;
    display: inline-flex;
    justify-content: center;
    margin-inline: auto;
    align-items: center;
    gap: 2%;
  }
  .tabs .tab{
    all: unset;
    display:flex; cursor:pointer;
    align-items: center; 
    color:#cacaca;
    font: inherit; font-size:1rem; line-height:1; font-weight:400;
    font-size:1rem;
    border-radius: 0.7rem;
    padding: 0.5rem;
    font-weight: 200;
    margin-top: 0.8rem;
    margin-bottom: 0.8rem;
  }

  .tabs .tab svg {
    width: 1.6em;  /* scale with font size */
    height:1.6em;
    flex-shrink: 0; /* keep icon size fixed */
  }
  .tabs .tab:is(:hover ,:focus-visible),
  .tabs .tab.is-active{ background:#fff; opacity:1;color:#0077ff;}

  
.panel{
  padding: 2rem;
  color:#fff;
  margin-top: 1rem;
  min-height: 0;
  overflow: visible;    /* single, intentional choice */
}
.panel.is-hidden{
  display:block; visibility:hidden; opacity:0; height:0; padding:0; overflow:hidden;
}
.panel[hidden]{ display:none; }

/* --------- Exercise list --------- */
#exerciseList{ list-style:none; margin:0; padding:0; }
#exerciseList li{
  color: #cacaca; font-size:18px;
  display:flex; justify-content:space-between; align-items:center; margin-bottom:8px;
}
#exerciseList li a{ color:#000000; text-decoration:none; }
#exerciseList li a:hover{ text-decoration:underline; }

/* --------- Bottom section --------- */
.slides{
  width:85%; max-width:1200px; margin:.5rem auto 1.5rem;
  padding: 2rem 0 1rem; border-bottom:1px solid #353535;
}
.ssm-section{
  background-color:#161616;
  border-top:1px solid #7b8a90;
  border-bottom:20px solid #1d1d1d;
  width:100%;
}
.ssm-section .slides{ text-align:center; }
.ssm-section .slides h1{ margin-bottom:1.4rem; color:#ffffff; }
.ssm-section .slides p{
  margin-bottom:.5rem; font-weight:200; font-size:.8rem; line-height:1rem; color:#b4b4b4;
}
